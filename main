--[[ 
    ðŸ©´ CHINELAOHUB - TECH PERFECT STYLE
    - Interface Profissional baseada na imagem enviada.
    - Sistema de MinimizaÃ§Ã£o em Barra (mantÃ©m o nome e Ã© arrastÃ¡vel).
    - DetecÃ§Ã£o de Elite (Nomes, Textos e MutaÃ§Ãµes Visuais).
]]

local UserInputService = game:GetService("UserInputService")
local SoundService = game:GetService("SoundService")
local Players = game:GetService("Players")

local player = Players.LocalPlayer
local pgui = player:WaitForChild("PlayerGui")

-- ConfiguraÃ§Ãµes de Busca
local CONFIG = {
	KEYWORDS = {"mitico", "mythic", "secreto", "secret", "stellar", "galaxy", "pipi", "potato"},
	RARE_MATERIALS = {Enum.Material.Neon, Enum.Material.ForceField},
	ALERT_ID = "9114283110"
}

local RadarOn = true
local CurrentID = CONFIG.ALERT_ID
local Detected = {}

-- ============================================================
-- FUNÃ‡ÃƒO DE ARRASTAR (DRAG) TOTAL
-- ============================================================
local function MakeDraggable(frame)
	local dragging, dragInput, dragStart, startPos
	frame.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			dragStart = input.Position
			startPos = frame.Position
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then dragging = false end
			end)
		end
	end)
	frame.InputChanged:Connect(function(input)
		if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
			local delta = input.Position - dragStart
			frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
		end
	end)
end

-- ============================================================
-- INTERFACE ESTILO TECH PERFECT
-- ============================================================
local sg = Instance.new("ScreenGui", pgui)
sg.Name = "ChinelaoHub_Tech"
sg.ResetOnSpawn = false

-- FRAME PRINCIPAL
local Main = Instance.new("Frame", sg)
Main.Size = UDim2.new(0, 450, 0, 320)
Main.Position = UDim2.new(0.5, -225, 0.4, -160)
Main.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
Main.BorderSizePixel = 0
Instance.new("UICorner", Main).CornerRadius = UDim.new(0, 8)
local MainStroke = Instance.new("UIStroke", Main)
MainStroke.Color = Color3.fromRGB(0, 255, 0)
MainStroke.Thickness = 2

-- BARRA DE TÃTULO
local Header = Instance.new("Frame", Main)
Header.Size = UDim2.new(1, 0, 0, 40)
Header.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Header.BorderSizePixel = 0
Instance.new("UICorner", Header).CornerRadius = UDim.new(0, 8)

local Title = Instance.new("TextLabel", Header)
Title.Size = UDim2.new(0, 200, 1, 0)
Title.Position = UDim2.new(0, 15, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "Tech Perfect | Chinelao Hub"
Title.TextColor3 = Color3.fromRGB(0, 255, 0)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 16
Title.TextXAlignment = Enum.TextXAlignment.Left

-- BOTÃ•ES DE CONTROLE (-, O, X)
local ControlBox = Instance.new("Frame", Header)
ControlBox.Size = UDim2.new(0, 100, 1, 0)
ControlBox.Position = UDim2.new(1, -110, 0, 0)
ControlBox.BackgroundTransparency = 1

local function createControlBtn(txt, pos, color)
	local b = Instance.new("TextButton", ControlBox)
	b.Size = UDim2.new(0, 25, 0, 25)
	b.Position = pos
	b.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	b.Text = txt
	b.TextColor3 = color or Color3.new(1,1,1)
	b.Font = Enum.Font.GothamBold
	Instance.new("UICorner", b)
	return b
end

local minBtn = createControlBtn("-", UDim2.new(0, 0, 0.2, 0))
local closeBtn = createControlBtn("X", UDim2.new(0, 70, 0.2, 0), Color3.new(1,0,0))

-- CONTEÃšDO (ESTILO TECH)
local Content = Instance.new("Frame", Main)
Content.Size = UDim2.new(1, -20, 1, -60)
Content.Position = UDim2.new(0, 10, 0, 50)
Content.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Instance.new("UICorner", Content)

local ToggleBtn = Instance.new("TextButton", Content)
ToggleBtn.Size = UDim2.new(0.9, 0, 0, 50)
ToggleBtn.Position = UDim2.new(0.05, 0, 0.1, 0)
ToggleBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
ToggleBtn.Text = "Enable Radar: ON"
ToggleBtn.TextColor3 = Color3.fromRGB(0, 255, 0)
ToggleBtn.Font = Enum.Font.GothamBold
Instance.new("UICorner", ToggleBtn)

local AudioInput = Instance.new("TextBox", Content)
AudioInput.Size = UDim2.new(0.9, 0, 0, 40)
AudioInput.Position = UDim2.new(0.05, 0, 0.35, 0)
AudioInput.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
AudioInput.Text = CONFIG.ALERT_ID
AudioInput.PlaceholderText = "Paste Sound ID"
AudioInput.TextColor3 = Color3.fromRGB(0, 255, 0)
AudioInput.Font = Enum.Font.Code
Instance.new("UICorner", AudioInput)

local StatusTxt = Instance.new("TextLabel", Content)
StatusTxt.Size = UDim2.new(0.9, 0, 0, 80)
StatusTxt.Position = UDim2.new(0.05, 0, 0.6, 0)
StatusTxt.BackgroundTransparency = 1
StatusTxt.Text = "Searching for Brainrots..."
StatusTxt.TextColor3 = Color3.fromRGB(150, 150, 150)
StatusTxt.Font = Enum.Font.Gotham
StatusTxt.TextWrapped = true

-- ============================================================
-- BARRA MINIMIZADA (COMO VOCÃŠ PEDIU)
-- ============================================================
local Minibar = Instance.new("Frame", sg)
Minibar.Size = UDim2.new(0, 180, 0, 35)
Minibar.Position = UDim2.new(0.1, 0, 0.1, 0)
Minibar.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
Minibar.Visible = false
Instance.new("UICorner", Minibar)
local MiniStroke = Instance.new("UIStroke", Minibar)
MiniStroke.Color = Color3.fromRGB(0, 255, 0)
MiniStroke.Thickness = 2

local MiniLabel = Instance.new("TextLabel", Minibar)
MiniLabel.Size = UDim2.new(1, -40, 1, 0)
MiniLabel.Position = UDim2.new(0, 10, 0, 0)
MiniLabel.BackgroundTransparency = 1
MiniLabel.Text = "Chinelaohub Hub"
MiniLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
MiniLabel.Font = Enum.Font.GothamBold
MiniLabel.TextSize = 14
MiniLabel.TextXAlignment = Enum.TextXAlignment.Left

local RestoreBtn = Instance.new("TextButton", Minibar)
RestoreBtn.Size = UDim2.new(0, 25, 0, 25)
RestoreBtn.Position = UDim2.new(1, -30, 0.15, 0)
RestoreBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
RestoreBtn.Text = "+"
RestoreBtn.TextColor3 = Color3.new(1,1,1)
Instance.new("UICorner", RestoreBtn)

-- ARRASTAR TUDO
MakeDraggable(Main)
MakeDraggable(Minibar)

-- ============================================================
-- LOGICA DE FUNCIONAMENTO
-- ============================================================
local function isRare(item)
	if not item then return false end
	local n = item.Name:lower()
	for _, k in pairs(CONFIG.KEYWORDS) do if n:find(k) then return true end end
	for _, v in pairs(item:GetDescendants()) do
		if v:IsA("TextLabel") and v.Visible then
			for _, k in pairs(CONFIG.KEYWORDS) do if v.Text:lower():find(k) then return true end end
		elseif v:IsA("BasePart") and table.find(CONFIG.RARE_MATERIALS, v.Material) then
			local c = v.Color
			if (c.R > 0.7 and c.G > 0.5) or (c.R < 0.5 and c.G > 0.7 and c.B > 0.7) then return true end
		end
	end
	return false
end

local function Alert(item)
	if Detected[item] then return end
	Detected[item] = true
	local h = Instance.new("Highlight", item)
	h.FillColor = Color3.new(1,0,0)
	task.spawn(function()
		local s = Instance.new("Sound", SoundService)
		s.SoundId = "rbxassetid://" .. CurrentID:gsub("%D", "")
		s.Volume = 2
		s:Play()
		task.wait(10)
		s:Destroy()
	end)
end

-- EVENTOS
minBtn.MouseButton1Click:Connect(function() Main.Visible = false; Minibar.Visible = true end)
RestoreBtn.MouseButton1Click:Connect(function() Main.Visible = true; Minibar.Visible = false end)
closeBtn.MouseButton1Click:Connect(function() sg:Destroy() end)

ToggleBtn.MouseButton1Click:Connect(function()
	RadarOn = not RadarOn
	ToggleBtn.Text = "Enable Radar: " .. (RadarOn and "ON" or "OFF")
	ToggleBtn.TextColor3 = RadarOn and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
end)

AudioInput.FocusLost:Connect(function() CurrentID = AudioInput.Text end)

-- MONITOR
task.spawn(function()
	local p = workspace:FindFirstChild("Drops") or workspace:FindFirstChild("Items")
	if p then
		p.ChildAdded:Connect(function(c)
			if not RadarOn then return end
			task.wait(0.6)
			if isRare(c) then Alert(c) end
		end)
	end
end)
